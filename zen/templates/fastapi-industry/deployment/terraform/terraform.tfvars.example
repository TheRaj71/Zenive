# FastAPI Industry Template - Terraform Variables Example
# Copy this file to terraform.tfvars and customize for your environment

# Project Configuration
project_name = "{{project_name}}"
environment  = "development"  # development, staging, production
owner        = "{{author_name}}"

# AWS Configuration
aws_region     = "us-west-2"
key_pair_name  = "my-key-pair"  # Create this key pair in AWS first

# EKS Configuration
kubernetes_version = "1.28"
node_instance_types = ["t3.medium"]

# Node group sizing (adjust based on your needs)
node_group_min_size     = 1
node_group_max_size     = 5
node_group_desired_size = 2

# Database Configuration
postgres_version    = "15.4"
db_instance_class   = "db.t3.micro"  # Use db.r6g.large or higher for production
db_allocated_storage = 20
db_max_allocated_storage = 100
db_username         = "postgres"
db_password         = "your-secure-password-here"  # Change this!

# Redis Configuration
redis_node_type       = "cache.t3.micro"  # Use cache.r6g.large or higher for production
redis_num_cache_nodes = 1  # Use 2+ for production with failover
redis_auth_token      = "your-redis-auth-token-here"  # Change this!

# Application Configuration
app_secret_key = "your-super-secret-key-here-at-least-32-chars"  # Generate a secure key!
sentry_dsn     = ""  # Optional: Add your Sentry DSN for error tracking

# Monitoring Configuration
enable_monitoring = true
enable_logging    = true
log_retention_days = 7  # Use 30+ for production

# Security Configuration
enable_waf = false  # Set to true for production
allowed_cidr_blocks = ["0.0.0.0/0"]  # Restrict this for production
enable_vpc_flow_logs = true

# Backup Configuration
backup_retention_period = 7  # Use 30+ for production
enable_point_in_time_recovery = true

# Cost Optimization
enable_spot_instances = false  # Set to true to save costs (less reliability)
enable_cluster_autoscaler = true

# Domain Configuration (optional)
domain_name = ""  # e.g., "myapp.com"
certificate_arn = ""  # ARN of SSL certificate in ACM

# Feature Flags
enable_redis_cluster_mode = false
enable_multi_az_rds = false  # Set to true for production
enable_performance_insights = false  # Set to true for production

# Scaling Configuration
min_capacity = 1
max_capacity = 10
target_cpu_utilization = 70

# Network Configuration
vpc_cidr = "10.0.0.0/16"
enable_nat_gateway = true
single_nat_gateway = true  # Set to false for production (higher availability)

# Compliance and Governance (optional)
enable_config = false
enable_cloudtrail = false
enable_guardduty = false

# Notification Configuration (optional)
notification_email = ""  # e.g., "admin@mycompany.com"
slack_webhook_url = ""   # Optional Slack webhook for notifications

# Development Configuration
enable_bastion_host = false  # Set to true if you need SSH access
bastion_instance_type = "t3.nano"

# Disaster Recovery (optional)
enable_cross_region_backup = false
backup_region = "us-east-1"

# Environment-specific examples:

# Development Environment
# - Use smaller instance types (t3.micro, t3.small)
# - Single AZ deployments
# - Shorter backup retention
# - Spot instances for cost savings
# - Single NAT gateway

# Staging Environment  
# - Medium instance types (t3.medium, t3.large)
# - Multi-AZ for testing
# - Moderate backup retention (7-14 days)
# - Enable monitoring and logging
# - Similar to production but smaller scale

# Production Environment
# - Larger instance types (t3.large, r6g.large+)
# - Multi-AZ deployments
# - Long backup retention (30+ days)
# - Enable all security features
# - Multiple NAT gateways
# - Enable monitoring, logging, and alerting
# - Enable WAF and GuardDuty
# - Use dedicated tenancy if required